/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t={56:(t,r,n)=>{t.exports=function(t){var r=n.nc;r&&t.setAttribute("nonce",r)}},72:t=>{var r=[];function n(t){for(var n=-1,e=0;e<r.length;e++)if(r[e].identifier===t){n=e;break}return n}function e(t,e){for(var i={},a=[],s=0;s<t.length;s++){var u=t[s],c=e.base?u[0]+e.base:u[0],f=i[c]||0,l="".concat(c," ").concat(f);i[c]=f+1;var h=n(l),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==h)r[h].references++,r[h].updater(p);else{var d=o(p,e);e.byIndex=s,r.splice(s,0,{identifier:l,updater:d,references:1})}a.push(l)}return a}function o(t,r){var n=r.domAPI(r);return n.update(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap&&r.supports===t.supports&&r.layer===t.layer)return;n.update(t=r)}else n.remove()}}t.exports=function(t,o){var i=e(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);r[s].references--}for(var u=e(t,o),c=0;c<i.length;c++){var f=n(i[c]);0===r[f].references&&(r[f].updater(),r.splice(f,1))}i=u}}},113:t=>{t.exports=function(t,r){if(r.styleSheet)r.styleSheet.cssText=t;else{for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(document.createTextNode(t))}}},141:(t,r,n)=>{n.d(r,{A:()=>s});var e=n(601),o=n.n(e),i=n(314),a=n.n(i)()(o());a.push([t.id,"/* Navbar */\n.navbar__add {\n    display: flex;\n    justify-content: center;\n    gap: 2rem;\n    padding: 1rem 2rem;\n    background-color: #6c5ce7;\n    border-radius: 0 0 16px 16px;\n    box-shadow: 0 6px 20px rgba(0,0,0,0.15);\n    margin-bottom: 2rem;\n}\n\n.navbar__add__link {\n    color: #ecf0f1;\n    text-decoration: none;\n    font-weight: bold;\n    font-size: 1.1rem;\n    padding: 0.5rem 1rem;\n    border-radius: 10px;\n    transition: background-color 0.3s ease, transform 0.2s ease;\n    text-shadow: 0 1px 2px rgba(0,0,0,0.2);\n}\n\n.navbar__add__link:hover {\n    background-color: #523eecc2;\n    transform: scale(1.05);\n}\n\n.story__add {\n    padding: 2rem;\n    background-color: #ffffff;\n    border-radius: 16px;\n    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);\n    margin: 2rem auto;\n    max-width: 800px;\n    font-family: 'Arial', sans-serif;\n}\n\n.story__add__header {\n    text-align: center;\n    font-size: 2rem;\n    font-weight: bold;\n    color: #34495e;\n    margin-bottom: 1.5rem;\n    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.form__group {\n    margin-bottom: 1.5rem;\n}\n\n.form__group label {\n    font-size: 1.1rem;\n    color: #34495e;\n}\n\n.form__input,\n.form__textarea {\n    width: 100%;\n    padding: 1rem;\n    margin-top: 0.5rem;\n    border: 2px solid #ccc;\n    border-radius: 10px;\n    font-size: 1rem;\n    box-sizing: border-box;\n}\n\n.form__textarea {\n    height: 120px;\n    resize: none;\n}\n\n.form__input:focus,\n.form__textarea:focus {\n    border-color: #6c5ce7;\n    outline: none;\n}\n\n.story__add__button {\n    background-color: #6c5ce7;\n    color: white;\n    padding: 0.75rem 1.5rem;\n    border: none;\n    border-radius: 10px;\n    cursor: pointer;\n    font-size: 1.1rem;\n    transition: background-color 0.3s ease, transform 0.2s ease;\n    margin-top: 1rem;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);\n}\n\n.story__add__button:hover {\n    background-color: #523eecc2;\n    transform: scale(1.05);\n}\n\n/* ========== Kamera & Preview Section ========== */\n#camera-section,\n#preview-section {\n    margin-top: 2rem;\n}\n\n#camera-preview {\n    width: 100%;\n    border-radius: 10px;\n    margin-top: 0.5rem;\n}\n\n#canvas {\n    display: none;\n}\n\n#photo-preview {\n    margin-top: 10px;\n    max-width: 100%;\n    height: auto; /* penting agar proporsional sesuai rasio asli */\n    border-radius: 10px;\n    display: block;\n    object-fit: contain; /* ganti dari cover ke contain agar tidak kepotong */\n}\n\n/* ========== Map Section ========== */\n.story__add__map {\n    width: 100%;\n    height: 300px;\n    border-radius: 10px;\n    border: 2px solid #ccc;\n}\n\n/* ========== Location Inputs ========== */\n#latInput,\n#lonInput {\n    width: 100%;\n    padding: 1rem;\n    margin-top: 0.5rem;\n    border: 2px solid #ccc;\n    border-radius: 10px;\n    font-size: 1rem;\n    box-sizing: border-box;\n    background-color: #f8f9fa;\n}\n\n/* ========== Responsive ========== */\n@media (max-width: 768px) {\n    .story__add {\n        padding: 1.5rem;\n        width: 100%;\n        margin: 0;\n    }\n\n    .form__input,\n    .form__textarea,\n    .story__add__button {\n        font-size: 1rem;\n        padding: 0.6rem 1.2rem;\n    }\n\n    #camera-preview {\n        width: 100%;\n    }\n}\n",""]);const s=a},314:t=>{t.exports=function(t){var r=[];return r.toString=function(){return this.map((function(r){var n="",e=void 0!==r[5];return r[4]&&(n+="@supports (".concat(r[4],") {")),r[2]&&(n+="@media ".concat(r[2]," {")),e&&(n+="@layer".concat(r[5].length>0?" ".concat(r[5]):""," {")),n+=t(r),e&&(n+="}"),r[2]&&(n+="}"),r[4]&&(n+="}"),n})).join("")},r.i=function(t,n,e,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(e)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var c=0;c<t.length;c++){var f=[].concat(t[c]);e&&a[f[0]]||(void 0!==i&&(void 0===f[5]||(f[1]="@layer".concat(f[5].length>0?" ".concat(f[5]):""," {").concat(f[1],"}")),f[5]=i),n&&(f[2]?(f[1]="@media ".concat(f[2]," {").concat(f[1],"}"),f[2]=n):f[2]=n),o&&(f[4]?(f[1]="@supports (".concat(f[4],") {").concat(f[1],"}"),f[4]=o):f[4]="".concat(o)),r.push(f))}},r}},356:(t,r,n)=>{n.d(r,{A:()=>s});var e=n(601),o=n.n(e),i=n(314),a=n.n(i)()(o());a.push([t.id,"/* Navbar */\n.navbar__dashboard {\n    display: flex;\n    justify-content: center;\n    gap: 2rem;\n    padding: 1rem 2rem;\n    background-color: #6c5ce7;\n    border-radius: 0 0 16px 16px;\n    box-shadow: 0 6px 20px rgba(0,0,0,0.15);\n    margin-bottom: 2rem;\n}\n\n.navbar__dashboard__link {\n    color: #ecf0f1;\n    text-decoration: none;\n    font-weight: bold;\n    font-size: 1.1rem;\n    padding: 0.5rem 1rem;\n    border-radius: 10px;\n    transition: background-color 0.3s ease, transform 0.2s ease;\n    text-shadow: 0 1px 2px rgba(0,0,0,0.2);\n}\n\n.navbar__dashboard__link:hover {\n    background-color: #523eecc2;\n    transform: scale(1.05);\n}\n\n/* Container grid utama */\n.story__grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n    gap: 1.5rem;\n    padding: 2rem 1rem;\n  }\n  \n  /* Card */\n  .story__card {\n    display: flex;\n    flex-direction: column;\n    background-color: #ffffff;\n    border-radius: 16px;\n    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);\n    padding: 1rem;\n    transition: transform 0.3s ease;\n    height: 100%;\n  }\n  \n  .story__card:hover {\n    transform: scale(1.03);\n  }\n  \n  /* Header */\n  .story__card__header {\n    font-size: 1.2rem;\n    margin-bottom: 0.5rem;\n    color: #2c3e50;\n    text-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\n  }\n  \n  /* Gambar */\n  .story__card__image {\n    width: 100%;\n    height: 180px;\n    object-fit: cover;\n    border-radius: 8px;\n    margin-bottom: 0.75rem;\n  }\n  \n  /* Deskripsi */\n  .story__card__description {\n    font-size: 0.95rem;\n    color: #333;\n    margin-bottom: 0.5rem;\n    flex-grow: 1;\n  \n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    -webkit-box-orient: vertical;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  \n  /* Tanggal */\n  .story__card__date {\n    font-size: 0.85rem;\n    color: rgba(0, 0, 0, 0.5);\n    margin-bottom: 0.5rem;\n  }\n  \n  /* Tombol Baca Selengkapnya */\n  .story__card__readmore {\n    background-color: #6c5ce7;\n    color: #ffffff;\n    padding: 0.6rem 1rem;\n    border: none;\n    border-radius: 8px;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n    margin-top: auto;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n  }\n  \n  .story__card__readmore:hover {\n    background-color: #2980b9;\n  }\n  \n\n  .skip__to__content__dashboard {\n    position: absolute;\n    top: -40px;\n    left: 0;\n    background: #000;\n    color: #fff;\n    padding: 8px;\n    z-index: 1000;\n    text-decoration: none;\n  }\n  \n  .skip__to__content__dashboard:focus {\n    top: 0;\n  }\n  \n.notif__button {\n  background-color: transparent;\n  border: none;\n  color: white;\n  cursor: pointer;\n  font-size: 1rem;\n}\n\n",""]);const s=a},473:(t,r,n)=>{n.d(r,{A:()=>s});var e=n(601),o=n.n(e),i=n(314),a=n.n(i)()(o());a.push([t.id,".story__detail {\n    padding: 2rem;\n    background: #f8f9fa;\n    border-radius: 12px;\n    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);\n    margin: 1rem auto;\n    max-width: 800px;\n}\n\n.story__detail__header {\n    font-size: 2.25rem;\n    font-weight: bold;\n    color: #2d3436;\n    margin-bottom: 1rem;\n    text-align: center;\n    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);\n}\n\n.story__detail__back {\n    display: inline-block;\n    margin-top: 1.5rem;\n    padding: 0.5rem 1rem;\n    background-color: #6c5ce7;\n    color: #ffffff;\n    border-radius: 8px;\n    text-decoration: none;\n    font-weight: bold;\n    transition: background-color 0.3s ease;\n}\n\n.story__detail__back:hover {\n    background-color: #2980b9;\n    color: #ffffff;\n    text-decoration: none;\n}\n\n.story__detail__image {\n    display: block;\n    margin: 0 auto 1rem auto;\n    border-radius: 12px;\n    width: 100%;\n    max-width: 500px;\n    height: auto;\n    object-fit: cover;\n}\n\n.story__detail__name,\n.story__detail__description,\n.story__detail__id,\n.story__detail__lat,\n.story__detail__lon {\n    font-size: 1rem;\n    margin-bottom: 0.75rem;\n    color: #333;\n}\n\n.story__detail__map {\n    border: 2px solid #ccc;\n    border-radius: 12px;\n    overflow: hidden;\n    margin: 1rem 0;\n}\n\n.save__btn {\n  background-color: #007bff;\n  border: none;\n  color: white;\n  padding: 8px 14px;\n  font-size: 14px;\n  border-radius: 4px;\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  transition: background-color 0.3s ease;\n}\n\n.save__btn:hover {\n  background-color: #0056b3;\n}\n\n.save__btn i {\n  font-size: 16px;\n}\n",""]);const s=a},540:t=>{t.exports=function(t){var r=document.createElement("style");return t.setAttributes(r,t.attributes),t.insert(r,t.options),r}},541:(t,r,n)=>{n.d(r,{A:()=>s});var e=n(601),o=n.n(e),i=n(314),a=n.n(i)()(o());a.push([t.id,"/* Navbar */\n.navbar__save {\n  display: flex;\n  justify-content: center;\n  gap: 2rem;\n  padding: 1rem 2rem;\n  background-color: #6c5ce7;\n  border-radius: 0 0 16px 16px;\n  box-shadow: 0 6px 20px rgba(0,0,0,0.15);\n  margin-bottom: 2rem;\n}\n\n/* Link pada navbar */\n.navbar__save__link {\n  color: #ecf0f1;\n  text-decoration: none;\n  font-weight: bold;\n  font-size: 1.1rem;\n  padding: 0.5rem 1rem;\n  border-radius: 10px;\n  transition: background-color 0.3s ease, transform 0.2s ease;\n  text-shadow: 0 1px 2px rgba(0,0,0,0.2);\n}\n\n.navbar__save__link:hover {\n  background-color: #523eecc2;\n  transform: scale(1.05);\n}\n\n/* Container grid utama */\n/* Container grid utama */\n.save__grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); /* dari style atas */\n  gap: 1.5rem; /* dari style atas */\n  padding: 1rem 2rem; /* dari style atas */\n}\n\n.save__card {\n  display: flex;\n  flex-direction: column;\n  background-color: #ffffff;\n  border-radius: 16px;\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);\n  padding: 1.2rem; /* ambil padding 1.2rem dari style bawah */\n  transition: transform 0.3s ease;\n  height: 100%;\n  overflow: hidden;\n}\n\n.save__card:hover {\n  transform: translateY(-5px); /* efek hover dari style bawah */\n}\n\n.save__card__header {\n  font-size: 1.3rem;          /* dari style bawah */\n  font-weight: 600;           /* dari style bawah */\n  margin-bottom: 0.5rem;      /* dari style bawah */\n  color: #2c3e50;             /* dari style bawah */\n  text-shadow: 0 1px 1px rgba(0, 0, 0, 0.1); /* dari style bawah */\n}\n\n.save__card__image {\n  width: 100%;\n  height: 150px;              /* tetap height 150px dari style atas */\n  object-fit: cover;\n  border-radius: 10px;\n  margin-bottom: 1rem;\n}\n\n.save__card__description {\n  font-size: 0.95rem; /* pakai ukuran font lebih besar dari bawah */\n  color: #555;        /* dari style bawah */\n  margin-bottom: 0.75rem; /* dari style bawah */\n  flex-grow: 1;\n\n  display: -webkit-box;\n  -webkit-line-clamp: 2;      /* dari style atas tapi tetap 2 baris */\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.save__card__date {\n  font-size: 0.85rem;\n  color: rgba(0, 0, 0, 0.5);\n  margin-bottom: 0.75rem;\n}\n\n.save__card__readmore {\n  background-color: #6c5ce7; /* dari style bawah */\n  color: #ffffff;            /* dari style bawah */\n  padding: 0.6rem 1rem;      /* dari style bawah */\n  border-radius: 8px;        /* dari style bawah */\n  text-decoration: none;     /* dari style bawah */\n  text-align: center;        /* dari style bawah */\n  transition: all 0.3s ease; /* dari style bawah */\n  display: inline-block;     /* dari style bawah */\n  font-weight: bold;         /* dari style bawah */\n  align-self: flex-start;    /* dari style bawah */\n}\n\n.save__card__readmore:hover {\n  background-color: #4e3ecf; /* dari style bawah */\n}\n",""]);const s=a},595:(t,r,n)=>{n.d(r,{A:()=>s});var e=n(601),o=n.n(e),i=n(314),a=n.n(i)()(o());a.push([t.id,".container__auth__login {\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    background: linear-gradient(to right, #8EC5FC, #E0C3FC);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n}\n\n.container__auth__login__box {\n    background-color: #ffffff;\n    padding: 2.5rem;\n    border-radius: 16px;\n    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);\n    width: 100%;\n    max-width: 400px;\n}\n\n/* --- Header --- */\n.login__header {\n    text-align: center;\n    margin-bottom: 1.5rem;\n    color: #2c3e50;\n    text-shadow: 1px 1px 2px #ccc;\n    font-size: 1.8rem;\n}\n\n/* --- Form --- */\n.login__form {\n    display: flex;\n    flex-direction: column;\n}\n\n.login__form__email,\n.login__form__password {\n    padding: 0.75rem;\n    border: 1px solid #ccc;\n    border-radius: 10px;\n    font-size: 1rem;\n    box-sizing: border-box;\n    transition: border 0.3s ease;\n}\n\n.login__form__email:focus,\n.login__form__password:focus {\n    border-color: #6c5ce7;\n    outline: none;\n}\n\n/* --- Button --- */\n.login__form__button {\n    padding: 0.75rem;\n    background-color: #6c5ce7;\n    color: white;\n    border: none;\n    border-radius: 10px;\n    font-size: 1rem;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n    margin-top: 0.5rem;\n}\n\n.login__form__button:hover {\n    background-color: #4834d4;\n}\n\n/* --- Messages --- */\n.login__message {\n    text-align: center;\n    margin-top: 1rem;\n    color: #e74c3c;\n    font-weight: bold;\n}\n\n/* --- Router Links --- */\n.router__login {\n    text-align: center;\n    margin-top: 1.5rem;\n}\n\n.router__login__register {\n    text-decoration: none;\n    color: #6c5ce7;\n    font-weight: bold;\n    transition: color 0.3s ease;\n}\n\n.router__login__register:hover {\n    color: #4834d4;\n    text-decoration: underline;\n}\n",""]);const s=a},601:t=>{t.exports=function(t){return t[1]}},629:(t,r,n)=>{n.d(r,{A:()=>s});var e=n(601),o=n.n(e),i=n(314),a=n.n(i)()(o());a.push([t.id,".container__auth__register {\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    background: linear-gradient(to right, #8EC5FC, #E0C3FC);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n}\n  \n.container__auth__register__box {\n    background-color: #ffffff;\n    padding: 2.5rem;\n    border-radius: 16px;\n    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);\n    width: 100%;\n    max-width: 400px;\n}\n  \n/* --- Header --- */\n.register__header {\n    text-align: center;\n    margin-bottom: 1.5rem;\n    color: #2c3e50;\n    text-shadow: 1px 1px 2px #ccc;\n    font-size: 1.8rem;\n}\n  \n/* --- Form --- */\n.register__form {\n    display: flex;\n    flex-direction: column;\n}\n  \n.register__form__name,\n.register__form__email,\n.register__form__password {\n    padding: 0.75rem;\n    border: 1px solid #ccc;\n    border-radius: 10px;\n    font-size: 1rem;\n    box-sizing: border-box;\n    transition: border 0.3s ease;\n}\n  \n.register__form__name:focus,\n.register__form__email:focus,\n.register__form__password:focus {\n    border-color: #6c5ce7;\n    outline: none;\n}\n  \n/* --- Button --- */\n.register__form__button {\n    padding: 0.75rem;\n    background-color: #6c5ce7;\n    color: white;\n    border: none;\n    border-radius: 10px;\n    font-size: 1rem;\n    cursor: pointer;\n    transition: background-color 0.3s ease;\n    margin-top: 0.5rem;\n}\n  \n.register__form__button:hover {\n    background-color: #4834d4;\n}\n  \n/* --- Messages --- */\n.register__message {\n    text-align: center;\n    margin-top: 1rem;\n    color: #e74c3c;\n    font-weight: bold;\n}\n  \n/* --- Router Links --- */\n.router__register {\n    text-align: center;\n    margin-top: 1.5rem;\n}\n  \n.router__register__login {\n    text-decoration: none;\n    color: #6c5ce7;\n    font-weight: bold;\n    transition: color 0.3s ease;\n}\n  \n.router__register__login:hover {\n    color: #4834d4;\n    text-decoration: underline;\n}\n",""]);const s=a},659:t=>{var r={};t.exports=function(t,n){var e=function(t){if(void 0===r[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}r[t]=n}return r[t]}(t);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var r=t.insertStyleElement(t);return{update:function(n){!function(t,r,n){var e="";n.supports&&(e+="@supports (".concat(n.supports,") {")),n.media&&(e+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(e+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),e+=n.css,o&&(e+="}"),n.media&&(e+="}"),n.supports&&(e+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(e+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),r.styleTagTransform(e,t,r.options)}(r,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(r)}}}},993:(t,r,n)=>{n.d(r,{A:()=>s});var e=n(601),o=n.n(e),i=n(314),a=n.n(i)()(o());a.push([t.id,"/* 1. Use a more-intuitive box-sizing model */\n*, *::before, *::after {\n    box-sizing: border-box;\n}\n  \n/* 2. Remove default margin */\n* {\n    margin: 0;\n}\n  \n/* 3. Enable keyword animations */\n@media (prefers-reduced-motion: no-preference) {\n    html {\n      interpolate-size: allow-keywords;\n    }\n}\n  \nbody {\n    /* 4. Add accessible line-height */\n    line-height: 1.5;\n    /* 5. Improve text rendering */\n    -webkit-font-smoothing: antialiased;\n}\n  \n/* 6. Improve media defaults */\nimg, picture, video, canvas, svg {\n    display: block;\n    max-width: 100%;\n}\n  \n/* 7. Inherit fonts for form controls */\ninput, button, textarea, select {\n    font: inherit;\n}\n  \n/* 8. Avoid text overflows */\np, h1, h2, h3, h4, h5, h6 {\n    overflow-wrap: break-word;\n}\n  \n/* 9. Improve line wrapping */\np {\n    text-wrap: pretty;\n}\nh1, h2, h3, h4, h5, h6 {\n    text-wrap: balance;\n}\n  \n/*\n10. Create a root stacking context\n*/\n#root, #__next {\n    isolation: isolate;\n}",""]);const s=a}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={id:e,exports:{}};return t[e](i,i.exports,n),i.exports}n.n=t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return n.d(r,{a:r}),r},n.d=(t,r)=>{for(var e in r)n.o(r,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:r[e]})},n.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),n.nc=void 0;var e=n(72),o=n.n(e),i=n(825),a=n.n(i),s=n(659),u=n.n(s),c=n(56),f=n.n(c),l=n(540),h=n.n(l),p=n(113),d=n.n(p),y=n(993),v={};function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function m(){m=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,r,n,e){return Object.defineProperty(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e})}try{u({},"")}catch(t){u=function(t,r,n){return t[r]=n}}function c(r,n,e,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype);return u(a,"_invoke",function(r,n,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var u=E(s,e);if(u){if(u===l)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var c=f(r,n,e);if("normal"===c.type){if(o=e.done?4:2,c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o=4,e.method="throw",e.arg=c.arg)}}}(r,e,new O(o||[])),!0),a}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(j([])));b&&b!==n&&e.call(b,i)&&(y=b);var w=d.prototype=h.prototype=Object.create(y);function _(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function x(t,r){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==g(l)&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}),!0)}function E(r,n){var e=n.method,o=r.i[e];if(o===t)return n.delegate=null,"throw"===e&&r.i.return&&(n.method="return",n.arg=t,E(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),l;var i=f(o,r.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var a=i.arg;return a?a.done?(n[r.r]=a.value,n.next=r.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,l):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function k(t){this.tryEntries.push(t)}function S(r){var n=r[4]||{};n.type="normal",n.arg=t,r[4]=n}function O(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function j(r){if(null!=r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(g(r)+" is not iterable")}return p.prototype=d,u(w,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},r.awrap=function(t){return{__await:t}},_(x.prototype),u(x.prototype,a,(function(){return this})),r.AsyncIterator=x,r.async=function(t,n,e,o,i){void 0===i&&(i=Promise);var a=new x(c(t,n,e,o),i);return r.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(w),u(w,s,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},r.values=j,O.prototype={constructor:O,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(t){a.type="throw",a.arg=r,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],c=i[2];if(-1===i[0])return e("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,e(u),!0;if(s<c)return e(c),!1}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=r&&r<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o[2],l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[2]===t)return this.complete(n[4],n[3]),S(n),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]===t){var e=n[4];if("throw"===e.type){var o=e.arg;S(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={i:j(r),r:n,n:e},"next"===this.method&&(this.arg=t),l}},r}function b(t,r,n,e,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,o)}function w(t){return function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){b(i,e,o,a,s,"next",t)}function s(t){b(i,e,o,a,s,"throw",t)}a(void 0)}))}}v.styleTagTransform=d(),v.setAttributes=f(),v.insert=u().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=h(),o()(y.A,v),y.A&&y.A.locals&&y.A.locals;var _,x,E=function(){var t=w(m().mark((function t(r,n){var e,o;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://story-api.dicoding.dev/v1/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:n})});case 3:return e=t.sent,t.next=6,e.json();case 6:if(o=t.sent,e.ok){t.next=9;break}return t.abrupt("return",{success:!1,message:o.message||"Login Failed"});case 9:return localStorage.setItem("token",o.loginResult.token),t.abrupt("return",{success:!0,message:"Login successful",user:o.loginResult});case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",{success:!1,message:"Network error or server not reachable"});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(r,n){return t.apply(this,arguments)}}(),k=function(){var t=w(m().mark((function t(r,n,e){var o,i;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://story-api.dicoding.dev/v1/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,email:n,password:e})});case 3:return o=t.sent,t.next=6,o.json();case 6:if(i=t.sent,o.ok){t.next=9;break}return t.abrupt("return",{success:!1,message:i.message||"Register Failed"});case 9:return t.abrupt("return",{success:!0,message:i.message||"Register successful"});case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",{success:!1,message:"Network error or server not reachable"});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(r,n,e){return t.apply(this,arguments)}}();function S(t){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(t)}function O(){O=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,r,n,e){return Object.defineProperty(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e})}try{u({},"")}catch(t){u=function(t,r,n){return t[r]=n}}function c(r,n,e,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype);return u(a,"_invoke",function(r,n,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var u=_(s,e);if(u){if(u===l)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var c=f(r,n,e);if("normal"===c.type){if(o=e.done?4:2,c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o=4,e.method="throw",e.arg=c.arg)}}}(r,e,new k(o||[])),!0),a}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(j([])));g&&g!==n&&e.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function w(t,r){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==S(l)&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}),!0)}function _(r,n){var e=n.method,o=r.i[e];if(o===t)return n.delegate=null,"throw"===e&&r.i.return&&(n.method="return",n.arg=t,_(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),l;var i=f(o,r.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var a=i.arg;return a?a.done?(n[r.r]=a.value,n.next=r.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,l):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(t){this.tryEntries.push(t)}function E(r){var n=r[4]||{};n.type="normal",n.arg=t,r[4]=n}function k(t){this.tryEntries=[[-1]],t.forEach(x,this),this.reset(!0)}function j(r){if(null!=r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(S(r)+" is not iterable")}return p.prototype=d,u(m,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},r.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),r.AsyncIterator=w,r.async=function(t,n,e,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,e,o),i);return r.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},r.values=j,k.prototype={constructor:k,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(t){a.type="throw",a.arg=r,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],c=i[2];if(-1===i[0])return e("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,e(u),!0;if(s<c)return e(c),!1}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=r&&r<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o[2],l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[2]===t)return this.complete(n[4],n[3]),E(n),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]===t){var e=n[4];if("throw"===e.type){var o=e.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={i:j(r),r:n,n:e},"next"===this.method&&(this.arg=t),l}},r}function j(t,r,n,e,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,o)}function T(t){return function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){j(i,e,o,a,s,"next",t)}function s(t){j(i,e,o,a,s,"throw",t)}a(void 0)}))}}const P={loginUser:(x=T(O().mark((function t(r,n){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(r,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t,r){return x.apply(this,arguments)}),registerUser:(_=T(O().mark((function t(r,n,e){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(r,n,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t,r,n){return _.apply(this,arguments)})};var I=n(595),G={};G.styleTagTransform=d(),G.setAttributes=f(),G.insert=u().bind(null,"head"),G.domAPI=a(),G.insertStyleElement=h(),o()(I.A,G),I.A&&I.A.locals&&I.A.locals;const N=function(){return'\n            <div class="container__auth__login">\n                <div class="container__auth__login__box">\n                    <h2 class="login__header">Login</h2>\n\n                    <form class="login__form" id="login-form">\n                    <label for="email"><strong>Email :</strong></label>\n                    <input \n                        class="login__form__email" \n                        type="email" \n                        placeholder="Email" \n                        id="email" \n                        required><br>\n\n                    <label for="password"><strong>Password :</strong></label>\n                    <input \n                        class="login__form__password" \n                        type="password" \n                        placeholder="Password" \n                        id="password" \n                        required><br>\n\n                    <button \n                        class="login__form__button" \n                        type="submit">\n                        Sign In\n                    </button>\n                    </form>\n\n                    \x3c!-- Ini penting! Sesuai error sebelumnya --\x3e\n                    <p class="login__message" id="login-message"></p>\n\n                    <div class="router__login">\n                    <p>\n                        Click to register\n                        <a class="router__login__register" href="#/register">\n                        <i class="fas fa-user-circle"></i> Register\n                        </a>\n                    </p>\n                    </div>\n                </div>\n            </div>\n        '},A=function(t){var r=document.getElementById("login-form");r.addEventListener("submit",(function(n){n.preventDefault();var e=r.email.value,o=r.password.value;t(e,o)}))},F=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=document.getElementById("login-message");n.textContent=t,n.style.color=null!==r?r?"green":"red":""};function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function C(){C=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,r,n,e){return Object.defineProperty(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e})}try{u({},"")}catch(t){u=function(t,r,n){return t[r]=n}}function c(r,n,e,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype);return u(a,"_invoke",function(r,n,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var u=_(s,e);if(u){if(u===l)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var c=f(r,n,e);if("normal"===c.type){if(o=e.done?4:2,c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o=4,e.method="throw",e.arg=c.arg)}}}(r,e,new k(o||[])),!0),a}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==n&&e.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function w(t,r){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==B(l)&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}),!0)}function _(r,n){var e=n.method,o=r.i[e];if(o===t)return n.delegate=null,"throw"===e&&r.i.return&&(n.method="return",n.arg=t,_(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),l;var i=f(o,r.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var a=i.arg;return a?a.done?(n[r.r]=a.value,n.next=r.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,l):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(t){this.tryEntries.push(t)}function E(r){var n=r[4]||{};n.type="normal",n.arg=t,r[4]=n}function k(t){this.tryEntries=[[-1]],t.forEach(x,this),this.reset(!0)}function S(r){if(null!=r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(B(r)+" is not iterable")}return p.prototype=d,u(m,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},r.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),r.AsyncIterator=w,r.async=function(t,n,e,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,e,o),i);return r.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},r.values=S,k.prototype={constructor:k,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(t){a.type="throw",a.arg=r,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],c=i[2];if(-1===i[0])return e("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,e(u),!0;if(s<c)return e(c),!1}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=r&&r<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o[2],l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[2]===t)return this.complete(n[4],n[3]),E(n),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]===t){var e=n[4];if("throw"===e.type){var o=e.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={i:S(r),r:n,n:e},"next"===this.method&&(this.arg=t),l}},r}function M(t,r,n,e,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,o)}function z(t){return function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){M(i,e,o,a,s,"next",t)}function s(t){M(i,e,o,a,s,"throw",t)}a(void 0)}))}}var D;const H={init:(D=z(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:document.getElementById("app").innerHTML=N(),A(function(){var t=z(C().mark((function t(r,n){var e;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return F("Please wait..."),t.next=3,P.loginUser(r,n);case 3:e=t.sent,F(e.message,e.success),e.success&&(localStorage.setItem("isLoggedIn","true"),window.location.hash="#/dashboard");case 6:case"end":return t.stop()}}),t)})));return function(r,n){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)}))),function(){return D.apply(this,arguments)})};var R=n(629),W={};W.styleTagTransform=d(),W.setAttributes=f(),W.insert=u().bind(null,"head"),W.domAPI=a(),W.insertStyleElement=h(),o()(R.A,W),R.A&&R.A.locals&&R.A.locals;const U=function(){return'\n            <div class="container__auth__register">\n                <div class="container__auth__register__box">\n                    <h2 class="register__header">Register</h2>\n\n                    <form class="register__form" id="register-form">\n                        <label for="name"><strong>Name :</strong></label>\n                        <input \n                            class="register__form__name" \n                            type="text" \n                            placeholder="Name" \n                            id="name" \n                            required><br>\n\n                        <label for="email"><strong>Email :</strong></label>\n                        <input \n                            class="register__form__email" \n                            type="email" \n                            placeholder="Email" \n                            id="email" \n                            required><br>\n\n                        <label for="password"><strong>Password :</strong></label>\n                        <input \n                            class="register__form__password" \n                            type="password" \n                            placeholder="Password" \n                            id="password" \n                            required><br>\n\n                        <button \n                            class="register__form__button" \n                            type="submit">\n                            Sign Up\n                        </button>\n                    </form>\n\n                    <p class="register__message" id="register-message"></p>\n\n                    <div class="router__register">\n                        <p>\n                            Already have an account? \n                            <a class="router__register__login" href="#/login">\n                                <i class="fas fa-sign-in-alt"></i> Login\n                            </a>\n                        </p>\n                    </div>\n                </div>\n            </div>\n\n        '},V=function(t){var r=document.getElementById("register-form");r.addEventListener("submit",(function(n){n.preventDefault();var e=r.name.value,o=r.email.value,i=r.password.value;t(e,o,i)}))},q=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=document.getElementById("register-message");n.textContent=t,n.style.color=null!==r?r?"green":"red":""};function Y(t){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(t)}function K(){K=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,r,n,e){return Object.defineProperty(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e})}try{u({},"")}catch(t){u=function(t,r,n){return t[r]=n}}function c(r,n,e,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype);return u(a,"_invoke",function(r,n,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var u=_(s,e);if(u){if(u===l)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var c=f(r,n,e);if("normal"===c.type){if(o=e.done?4:2,c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o=4,e.method="throw",e.arg=c.arg)}}}(r,e,new k(o||[])),!0),a}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==n&&e.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function w(t,r){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==Y(l)&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}),!0)}function _(r,n){var e=n.method,o=r.i[e];if(o===t)return n.delegate=null,"throw"===e&&r.i.return&&(n.method="return",n.arg=t,_(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),l;var i=f(o,r.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var a=i.arg;return a?a.done?(n[r.r]=a.value,n.next=r.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,l):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(t){this.tryEntries.push(t)}function E(r){var n=r[4]||{};n.type="normal",n.arg=t,r[4]=n}function k(t){this.tryEntries=[[-1]],t.forEach(x,this),this.reset(!0)}function S(r){if(null!=r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Y(r)+" is not iterable")}return p.prototype=d,u(m,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},r.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),r.AsyncIterator=w,r.async=function(t,n,e,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,e,o),i);return r.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},r.values=S,k.prototype={constructor:k,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(t){a.type="throw",a.arg=r,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],c=i[2];if(-1===i[0])return e("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,e(u),!0;if(s<c)return e(c),!1}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=r&&r<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o[2],l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[2]===t)return this.complete(n[4],n[3]),E(n),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]===t){var e=n[4];if("throw"===e.type){var o=e.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={i:S(r),r:n,n:e},"next"===this.method&&(this.arg=t),l}},r}function J(t,r,n,e,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,o)}function X(t){return function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){J(i,e,o,a,s,"next",t)}function s(t){J(i,e,o,a,s,"throw",t)}a(void 0)}))}}var Q={init:function(){var t=X(K().mark((function t(){return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:document.getElementById("app").innerHTML=U(),V(function(){var t=X(K().mark((function t(r,n,e){var o;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return q("Please wait..."),t.next=3,P.registerUser(r,n,e);case 3:o=t.sent,q(o.message,o.success),o.success&&(window.location.hash="#/login");case 6:case"end":return t.stop()}}),t)})));return function(r,n,e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()};const $=Q;var Z=n(356),tt={};tt.styleTagTransform=d(),tt.setAttributes=f(),tt.insert=u().bind(null,"head"),tt.domAPI=a(),tt.insertStyleElement=h(),o()(Z.A,tt),Z.A&&Z.A.locals&&Z.A.locals;var rt=function(t){for(var r=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),e=new Uint8Array(n.length),o=0;o<n.length;++o)e[o]=n.charCodeAt(o);return e};function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function et(){et=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,r,n,e){return Object.defineProperty(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e})}try{u({},"")}catch(t){u=function(t,r,n){return t[r]=n}}function c(r,n,e,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype);return u(a,"_invoke",function(r,n,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var u=_(s,e);if(u){if(u===l)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var c=f(r,n,e);if("normal"===c.type){if(o=e.done?4:2,c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o=4,e.method="throw",e.arg=c.arg)}}}(r,e,new k(o||[])),!0),a}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==n&&e.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function w(t,r){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==nt(l)&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}),!0)}function _(r,n){var e=n.method,o=r.i[e];if(o===t)return n.delegate=null,"throw"===e&&r.i.return&&(n.method="return",n.arg=t,_(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),l;var i=f(o,r.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var a=i.arg;return a?a.done?(n[r.r]=a.value,n.next=r.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,l):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(t){this.tryEntries.push(t)}function E(r){var n=r[4]||{};n.type="normal",n.arg=t,r[4]=n}function k(t){this.tryEntries=[[-1]],t.forEach(x,this),this.reset(!0)}function S(r){if(null!=r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(nt(r)+" is not iterable")}return p.prototype=d,u(m,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},r.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),r.AsyncIterator=w,r.async=function(t,n,e,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,e,o),i);return r.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},r.values=S,k.prototype={constructor:k,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(t){a.type="throw",a.arg=r,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],c=i[2];if(-1===i[0])return e("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,e(u),!0;if(s<c)return e(c),!1}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=r&&r<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o[2],l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[2]===t)return this.complete(n[4],n[3]),E(n),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]===t){var e=n[4];if("throw"===e.type){var o=e.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={i:S(r),r:n,n:e},"next"===this.method&&(this.arg=t),l}},r}function ot(t,r,n,e,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,o)}function it(t){return function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){ot(i,e,o,a,s,"next",t)}function s(t){ot(i,e,o,a,s,"throw",t)}a(void 0)}))}}var at=function(){var t=it(et().mark((function t(r){var n,e,o,i;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.serviceWorker.ready;case 2:return n=t.sent,t.next=5,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rt("BCCs2eonMI-6H2ctvFaWg-UYdDv387Vno_bzUzALpB442r2lCnsHmtrx8biyPi_E-1fSGABK_Qs_GlvPoJJqxbk")});case 5:return e=t.sent,t.next=8,fetch("https://story-api.dicoding.dev/v1/notifications/subscribe",{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify({endpoint:e.endpoint,keys:e.toJSON().keys})});case 8:return o=t.sent,t.next=11,o.json();case 11:if(i=t.sent,!o.ok||i.error){t.next=17;break}return console.log("Subscribed successfully:",i.message),t.abrupt("return",e);case 17:throw new Error(i.message||"Subscription failed");case 18:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),st=function(){var t=it(et().mark((function t(r){var n,e,o,i;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.serviceWorker.ready;case 2:return n=t.sent,t.next=5,n.pushManager.getSubscription();case 5:if(e=t.sent){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,fetch("https://story-api.dicoding.dev/v1/notifications/subscribe",{method:"DELETE",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify({endpoint:e.endpoint})});case 10:return o=t.sent,t.next=13,o.json();case 13:if(i=t.sent,!o.ok||i.error){t.next=20;break}return t.next=17,e.unsubscribe();case 17:console.log("Unsubscribed successfully:",i.message),t.next=21;break;case 20:throw new Error(i.message||"Unsubscribe failed");case 21:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}();function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}function ct(){ct=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,r,n,e){return Object.defineProperty(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e})}try{u({},"")}catch(t){u=function(t,r,n){return t[r]=n}}function c(r,n,e,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype);return u(a,"_invoke",function(r,n,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var u=_(s,e);if(u){if(u===l)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var c=f(r,n,e);if("normal"===c.type){if(o=e.done?4:2,c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o=4,e.method="throw",e.arg=c.arg)}}}(r,e,new k(o||[])),!0),a}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==n&&e.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function w(t,r){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==ut(l)&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}),!0)}function _(r,n){var e=n.method,o=r.i[e];if(o===t)return n.delegate=null,"throw"===e&&r.i.return&&(n.method="return",n.arg=t,_(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),l;var i=f(o,r.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var a=i.arg;return a?a.done?(n[r.r]=a.value,n.next=r.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,l):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(t){this.tryEntries.push(t)}function E(r){var n=r[4]||{};n.type="normal",n.arg=t,r[4]=n}function k(t){this.tryEntries=[[-1]],t.forEach(x,this),this.reset(!0)}function S(r){if(null!=r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(ut(r)+" is not iterable")}return p.prototype=d,u(m,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},r.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),r.AsyncIterator=w,r.async=function(t,n,e,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,e,o),i);return r.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},r.values=S,k.prototype={constructor:k,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(t){a.type="throw",a.arg=r,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],c=i[2];if(-1===i[0])return e("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,e(u),!0;if(s<c)return e(c),!1}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=r&&r<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o[2],l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[2]===t)return this.complete(n[4],n[3]),E(n),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]===t){var e=n[4];if("throw"===e.type){var o=e.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={i:S(r),r:n,n:e},"next"===this.method&&(this.arg=t),l}},r}function ft(t,r,n,e,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,o)}function lt(t){return function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){ft(i,e,o,a,s,"next",t)}function s(t){ft(i,e,o,a,s,"throw",t)}a(void 0)}))}}var ht={render:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];document.getElementById("app").innerHTML='\n      \n\n      <a href="#dashboard-content" class="skip__to__content__dashboard" id="skip-to-content">Skip to main content</a>\n\n      <nav class="navbar__dashboard">\n        <a href="#/dashboard" class="navbar__dashboard__link"><i class="fas fa-columns"></i> Dash</a>\n        <a href="#/add" class="navbar__dashboard__link"><i class="far fa-plus-square"></i> Add</a>\n        <a href="#/save" class="navbar__dashboard__link"><i class="far fa-plus-square"></i> Save</a>\n        <button id="notif-toggle" class="navbar__dashboard__link notif__button">\n    🔔\n        </button>\n      </nav>\n      \n\n      <div class="dashboard" id="dashboard-content" tabindex="-1">\n        <div class="story__grid" id="story-list"></div>\n      </div>\n      ',ht.afterRender(t)},afterRender:function(t){document.getElementById("story-list").innerHTML=t.map((function(t){return'\n  \n          <div class="story__card">\n            <h3 class="story__card__header">'.concat(t.name,'</h3>\n\n            <img \n              class="story__card__image" \n              src="').concat(t.photoUrl,'" \n              alt="').concat(t.name,'" \n              width="200"\n            >\n\n            <p class="story__card__description">\n              ').concat(t.description,'\n            </p>\n\n            \x3c!-- Tambahkan peta khusus untuk story ini --\x3e\n            <div class="map" id="map-').concat(t.id,'" style="height: 200px; margin-top: 10px;"></div>\n\n            <small class="story__card__date">\n              Created at: ').concat(new Date(t.createdAt).toLocaleString(),'\n            </small>\n\n            <a href="#/detail/').concat(t.id,'" class="story__card__readmore" data-id="').concat(t.id,'">\n              <i class="fab fa-readme"></i> Read more\n            </a>\n\n          </div>\n\n      ')})).join("");var r=document.getElementById("notif-toggle"),n=localStorage.getItem("token"),e=function(t){r.textContent=t?"🔕":"🔔"};navigator.serviceWorker.ready.then((function(t){t.pushManager.getSubscription().then((function(t){e(!!t)}))})),r.addEventListener("click",lt(ct().mark((function t(){var r;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.serviceWorker.ready;case 3:return r=t.sent,t.next=6,r.pushManager.getSubscription();case 6:if(!t.sent){t.next=13;break}return t.next=10,st(n);case 10:e(!1),t.next=16;break;case 13:return t.next=15,at(n);case 15:e(!0);case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.error("Error handling subscription:",t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))),t.forEach((function(t){if(t.lat&&t.lon){var r="map-".concat(t.id);if(document.getElementById(r)){var n=L.map(r).setView([t.lat,t.lon],13);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(n),L.marker([t.lat,t.lon]).addTo(n).bindPopup("<b>".concat(t.name,"</b><br>").concat(t.description))}}}));var o=document.getElementById("skip-to-content");o&&o.addEventListener("click",(function(t){t.preventDefault();var r=document.getElementById("dashboard-content");r&&r.focus()})),document.querySelectorAll(".story__card__readmore").forEach((function(t){t.addEventListener("click",(function(r){r.preventDefault();var n=t.dataset.id;document.getElementById("app").animate([{opacity:1},{opacity:0}],{duration:300,easing:"ease-in"}).onfinish=function(){window.location.hash="#/detail/".concat(n)}}))}))}};const pt=ht;function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function yt(){yt=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,r,n,e){return Object.defineProperty(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e})}try{u({},"")}catch(t){u=function(t,r,n){return t[r]=n}}function c(r,n,e,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype);return u(a,"_invoke",function(r,n,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var u=_(s,e);if(u){if(u===l)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var c=f(r,n,e);if("normal"===c.type){if(o=e.done?4:2,c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o=4,e.method="throw",e.arg=c.arg)}}}(r,e,new k(o||[])),!0),a}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==n&&e.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function w(t,r){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==dt(l)&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}),!0)}function _(r,n){var e=n.method,o=r.i[e];if(o===t)return n.delegate=null,"throw"===e&&r.i.return&&(n.method="return",n.arg=t,_(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),l;var i=f(o,r.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var a=i.arg;return a?a.done?(n[r.r]=a.value,n.next=r.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,l):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(t){this.tryEntries.push(t)}function E(r){var n=r[4]||{};n.type="normal",n.arg=t,r[4]=n}function k(t){this.tryEntries=[[-1]],t.forEach(x,this),this.reset(!0)}function S(r){if(null!=r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(dt(r)+" is not iterable")}return p.prototype=d,u(m,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},r.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),r.AsyncIterator=w,r.async=function(t,n,e,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,e,o),i);return r.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},r.values=S,k.prototype={constructor:k,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(t){a.type="throw",a.arg=r,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],c=i[2];if(-1===i[0])return e("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,e(u),!0;if(s<c)return e(c),!1}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=r&&r<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o[2],l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[2]===t)return this.complete(n[4],n[3]),E(n),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]===t){var e=n[4];if("throw"===e.type){var o=e.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={i:S(r),r:n,n:e},"next"===this.method&&(this.arg=t),l}},r}function vt(t,r,n,e,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,o)}function gt(t){return function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){vt(i,e,o,a,s,"next",t)}function s(t){vt(i,e,o,a,s,"throw",t)}a(void 0)}))}}var mt,bt,wt=function(){var t=gt(yt().mark((function t(r){var n,e,o,i,a,s,u=arguments;return yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:1,e=u.length>2&&void 0!==u[2]?u[2]:10,o=u.length>3&&void 0!==u[3]?u[3]:0,t.prev=3,(i=new URL("https://story-api.dicoding.dev/v1/stories")).searchParams.append("page",n),i.searchParams.append("size",e),i.searchParams.append("location",o),t.next=10,fetch(i.toString(),{method:"GET",headers:{Authorization:"Bearer ".concat(r)}});case 10:return a=t.sent,t.next=13,a.json();case 13:if(s=t.sent,a.ok){t.next=16;break}return t.abrupt("return",{success:!1,message:s.message||"Failed to fetch stories",stories:[]});case 16:return t.abrupt("return",{success:!0,message:s.message,stories:s.listStory});case 19:return t.prev=19,t.t0=t.catch(3),t.abrupt("return",{success:!1,message:"Network error or server not reachable",stories:[]});case 22:case"end":return t.stop()}}),t,null,[[3,19]])})));return function(r){return t.apply(this,arguments)}}(),_t=function(){var t=gt(yt().mark((function t(r,n){var e,o,i;return yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(e=new FormData).append("description",n.description),e.append("photo",n.photo),void 0!==n.lat&&null!==n.lat&&e.append("lat",n.lat),void 0!==n.lon&&null!==n.lon&&e.append("lon",n.lon),t.next=8,fetch("https://story-api.dicoding.dev/v1/stories",{method:"POST",headers:{Authorization:"Bearer ".concat(r)},body:e});case 8:return o=t.sent,t.next=11,o.json();case 11:if(i=t.sent,o.ok){t.next=14;break}return t.abrupt("return",{success:!1,message:i.message||"Failed to add story"});case 14:return t.abrupt("return",{success:!0,message:i.message});case 17:return t.prev=17,t.t0=t.catch(0),t.abrupt("return",{success:!1,message:"Network error or server not reachable"});case 20:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(r,n){return t.apply(this,arguments)}}();function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function Et(){Et=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,r,n,e){return Object.defineProperty(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e})}try{u({},"")}catch(t){u=function(t,r,n){return t[r]=n}}function c(r,n,e,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype);return u(a,"_invoke",function(r,n,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var u=_(s,e);if(u){if(u===l)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var c=f(r,n,e);if("normal"===c.type){if(o=e.done?4:2,c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o=4,e.method="throw",e.arg=c.arg)}}}(r,e,new k(o||[])),!0),a}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==n&&e.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function w(t,r){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==xt(l)&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}),!0)}function _(r,n){var e=n.method,o=r.i[e];if(o===t)return n.delegate=null,"throw"===e&&r.i.return&&(n.method="return",n.arg=t,_(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),l;var i=f(o,r.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var a=i.arg;return a?a.done?(n[r.r]=a.value,n.next=r.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,l):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(t){this.tryEntries.push(t)}function E(r){var n=r[4]||{};n.type="normal",n.arg=t,r[4]=n}function k(t){this.tryEntries=[[-1]],t.forEach(x,this),this.reset(!0)}function S(r){if(null!=r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(xt(r)+" is not iterable")}return p.prototype=d,u(m,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},r.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),r.AsyncIterator=w,r.async=function(t,n,e,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,e,o),i);return r.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},r.values=S,k.prototype={constructor:k,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(t){a.type="throw",a.arg=r,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],c=i[2];if(-1===i[0])return e("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,e(u),!0;if(s<c)return e(c),!1}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=r&&r<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o[2],l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[2]===t)return this.complete(n[4],n[3]),E(n),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]===t){var e=n[4];if("throw"===e.type){var o=e.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={i:S(r),r:n,n:e},"next"===this.method&&(this.arg=t),l}},r}function kt(t,r,n,e,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,o)}function St(t){return function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){kt(i,e,o,a,s,"next",t)}function s(t){kt(i,e,o,a,s,"throw",t)}a(void 0)}))}}const Ot={fetchStories:(bt=St(Et().mark((function t(r){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wt(r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t){return bt.apply(this,arguments)}),addStory:(mt=St(Et().mark((function t(r,n){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_t(r,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),function(t,r){return mt.apply(this,arguments)})};function jt(t){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}function Tt(){Tt=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,r,n,e){return Object.defineProperty(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e})}try{u({},"")}catch(t){u=function(t,r,n){return t[r]=n}}function c(r,n,e,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype);return u(a,"_invoke",function(r,n,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var u=_(s,e);if(u){if(u===l)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var c=f(r,n,e);if("normal"===c.type){if(o=e.done?4:2,c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o=4,e.method="throw",e.arg=c.arg)}}}(r,e,new k(o||[])),!0),a}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==n&&e.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function w(t,r){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==jt(l)&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}),!0)}function _(r,n){var e=n.method,o=r.i[e];if(o===t)return n.delegate=null,"throw"===e&&r.i.return&&(n.method="return",n.arg=t,_(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),l;var i=f(o,r.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var a=i.arg;return a?a.done?(n[r.r]=a.value,n.next=r.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,l):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(t){this.tryEntries.push(t)}function E(r){var n=r[4]||{};n.type="normal",n.arg=t,r[4]=n}function k(t){this.tryEntries=[[-1]],t.forEach(x,this),this.reset(!0)}function S(r){if(null!=r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(jt(r)+" is not iterable")}return p.prototype=d,u(m,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},r.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),r.AsyncIterator=w,r.async=function(t,n,e,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,e,o),i);return r.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},r.values=S,k.prototype={constructor:k,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(t){a.type="throw",a.arg=r,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],c=i[2];if(-1===i[0])return e("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,e(u),!0;if(s<c)return e(c),!1}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=r&&r<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o[2],l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[2]===t)return this.complete(n[4],n[3]),E(n),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]===t){var e=n[4];if("throw"===e.type){var o=e.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={i:S(r),r:n,n:e},"next"===this.method&&(this.arg=t),l}},r}function Pt(t,r,n,e,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,o)}var It={init:function(){var t,r=(t=Tt().mark((function t(){var r,n,e,o,i;return Tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=localStorage.getItem("isLoggedIn"),n=localStorage.getItem("token"),r&&n){t.next=5;break}return window.location.hash="#/login",t.abrupt("return");case 5:return t.next=7,Ot.fetchStories(n);case 7:e=t.sent,o=e.success,i=e.stories,pt.render(o?i:[]);case 11:case"end":return t.stop()}}),t)})),function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){Pt(i,e,o,a,s,"next",t)}function s(t){Pt(i,e,o,a,s,"throw",t)}a(void 0)}))});return function(){return r.apply(this,arguments)}}()};const Gt=It;var Nt=n(473),At={};At.styleTagTransform=d(),At.setAttributes=f(),At.insert=u().bind(null,"head"),At.domAPI=a(),At.insertStyleElement=h(),o()(Nt.A,At),Nt.A&&Nt.A.locals&&Nt.A.locals;const Lt=(t,r)=>r.some((r=>t instanceof r));let Ft,Bt;const Ct=new WeakMap,Mt=new WeakMap,zt=new WeakMap;let Dt={get(t,r,n){if(t instanceof IDBTransaction){if("done"===r)return Ct.get(t);if("store"===r)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wt(t[r])},set:(t,r,n)=>(t[r]=n,!0),has:(t,r)=>t instanceof IDBTransaction&&("done"===r||"store"===r)||r in t};function Ht(t){Dt=t(Dt)}function Rt(t){return"function"==typeof t?(r=t,(Bt||(Bt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(r)?function(...t){return r.apply(Ut(this),t),Wt(this.request)}:function(...t){return Wt(r.apply(Ut(this),t))}):(t instanceof IDBTransaction&&function(t){if(Ct.has(t))return;const r=new Promise(((r,n)=>{const e=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{r(),e()},i=()=>{n(t.error||new DOMException("AbortError","AbortError")),e()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)}));Ct.set(t,r)}(t),Lt(t,Ft||(Ft=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,Dt):t);var r}function Wt(t){if(t instanceof IDBRequest)return function(t){const r=new Promise(((r,n)=>{const e=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{r(Wt(t.result)),e()},i=()=>{n(t.error),e()};t.addEventListener("success",o),t.addEventListener("error",i)}));return zt.set(r,t),r}(t);if(Mt.has(t))return Mt.get(t);const r=Rt(t);return r!==t&&(Mt.set(t,r),zt.set(r,t)),r}const Ut=t=>zt.get(t),Vt=["get","getKey","getAll","getAllKeys","count"],qt=["put","add","delete","clear"],Yt=new Map;function Kt(t,r){if(!(t instanceof IDBDatabase)||r in t||"string"!=typeof r)return;if(Yt.get(r))return Yt.get(r);const n=r.replace(/FromIndex$/,""),e=r!==n,o=qt.includes(n);if(!(n in(e?IDBIndex:IDBObjectStore).prototype)||!o&&!Vt.includes(n))return;const i=async function(t,...r){const i=this.transaction(t,o?"readwrite":"readonly");let a=i.store;return e&&(a=a.index(r.shift())),(await Promise.all([a[n](...r),o&&i.done]))[0]};return Yt.set(r,i),i}Ht((t=>({...t,get:(r,n,e)=>Kt(r,n)||t.get(r,n,e),has:(r,n)=>!!Kt(r,n)||t.has(r,n)})));const Jt=["continue","continuePrimaryKey","advance"],Xt={},Qt=new WeakMap,$t=new WeakMap,Zt={get(t,r){if(!Jt.includes(r))return t[r];let n=Xt[r];return n||(n=Xt[r]=function(...t){Qt.set(this,$t.get(this)[r](...t))}),n}};async function*tr(...t){let r=this;if(r instanceof IDBCursor||(r=await r.openCursor(...t)),!r)return;const n=new Proxy(r,Zt);for($t.set(n,r),zt.set(n,Ut(r));r;)yield n,r=await(Qt.get(n)||r.continue()),Qt.delete(n)}function rr(t,r){return r===Symbol.asyncIterator&&Lt(t,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===r&&Lt(t,[IDBIndex,IDBObjectStore])}function nr(t){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(t)}function er(){er=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,r,n,e){return Object.defineProperty(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e})}try{u({},"")}catch(t){u=function(t,r,n){return t[r]=n}}function c(r,n,e,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype);return u(a,"_invoke",function(r,n,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var u=_(s,e);if(u){if(u===l)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var c=f(r,n,e);if("normal"===c.type){if(o=e.done?4:2,c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o=4,e.method="throw",e.arg=c.arg)}}}(r,e,new k(o||[])),!0),a}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==n&&e.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function w(t,r){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==nr(l)&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}),!0)}function _(r,n){var e=n.method,o=r.i[e];if(o===t)return n.delegate=null,"throw"===e&&r.i.return&&(n.method="return",n.arg=t,_(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),l;var i=f(o,r.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var a=i.arg;return a?a.done?(n[r.r]=a.value,n.next=r.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,l):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(t){this.tryEntries.push(t)}function E(r){var n=r[4]||{};n.type="normal",n.arg=t,r[4]=n}function k(t){this.tryEntries=[[-1]],t.forEach(x,this),this.reset(!0)}function S(r){if(null!=r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(nr(r)+" is not iterable")}return p.prototype=d,u(m,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},r.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),r.AsyncIterator=w,r.async=function(t,n,e,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,e,o),i);return r.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},r.values=S,k.prototype={constructor:k,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(t){a.type="throw",a.arg=r,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],c=i[2];if(-1===i[0])return e("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,e(u),!0;if(s<c)return e(c),!1}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=r&&r<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o[2],l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[2]===t)return this.complete(n[4],n[3]),E(n),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]===t){var e=n[4];if("throw"===e.type){var o=e.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={i:S(r),r:n,n:e},"next"===this.method&&(this.arg=t),l}},r}function or(t,r,n,e,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,o)}function ir(t){return function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){or(i,e,o,a,s,"next",t)}function s(t){or(i,e,o,a,s,"throw",t)}a(void 0)}))}}Ht((t=>({...t,get:(r,n,e)=>rr(r,n)?tr:t.get(r,n,e),has:(r,n)=>rr(r,n)||t.has(r,n)})));var ar="savedStories",sr=function(t,r,{blocked:n,upgrade:e,blocking:o,terminated:i}={}){const a=indexedDB.open(t,r),s=Wt(a);return e&&a.addEventListener("upgradeneeded",(t=>{e(Wt(a.result),t.oldVersion,t.newVersion,Wt(a.transaction),t)})),n&&a.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),s.then((t=>{i&&t.addEventListener("close",(()=>i())),o&&t.addEventListener("versionchange",(t=>o(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),s}("StoriesDatabase",1,{upgrade:function(t){t.objectStoreNames.contains(ar)||t.createObjectStore(ar,{keyPath:"id"})}});const ur=function(t){return ir(er().mark((function r(){return er().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,sr;case 2:return r.abrupt("return",r.sent.put(ar,t));case 3:case"end":return r.stop()}}),r)})))()},cr=function(t){return ir(er().mark((function r(){return er().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,sr;case 2:return r.abrupt("return",r.sent.delete(ar,t));case 3:case"end":return r.stop()}}),r)})))()},fr=function(t){return ir(er().mark((function r(){var n;return er().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,sr;case 2:return r.next=4,r.sent.get(ar,t);case 4:return n=r.sent,r.abrupt("return",!!n);case 6:case"end":return r.stop()}}),r)})))()},lr=function(){return ir(er().mark((function t(){var r;return er().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,sr;case 2:return r=t.sent,t.abrupt("return",r.getAll(ar));case 4:case"end":return t.stop()}}),t)})))()};function hr(t){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hr(t)}function pr(){pr=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,r,n,e){return Object.defineProperty(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e})}try{u({},"")}catch(t){u=function(t,r,n){return t[r]=n}}function c(r,n,e,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype);return u(a,"_invoke",function(r,n,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var u=_(s,e);if(u){if(u===l)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var c=f(r,n,e);if("normal"===c.type){if(o=e.done?4:2,c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o=4,e.method="throw",e.arg=c.arg)}}}(r,e,new k(o||[])),!0),a}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==n&&e.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function w(t,r){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==hr(l)&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}),!0)}function _(r,n){var e=n.method,o=r.i[e];if(o===t)return n.delegate=null,"throw"===e&&r.i.return&&(n.method="return",n.arg=t,_(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),l;var i=f(o,r.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var a=i.arg;return a?a.done?(n[r.r]=a.value,n.next=r.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,l):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(t){this.tryEntries.push(t)}function E(r){var n=r[4]||{};n.type="normal",n.arg=t,r[4]=n}function k(t){this.tryEntries=[[-1]],t.forEach(x,this),this.reset(!0)}function S(r){if(null!=r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(hr(r)+" is not iterable")}return p.prototype=d,u(m,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},r.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),r.AsyncIterator=w,r.async=function(t,n,e,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,e,o),i);return r.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},r.values=S,k.prototype={constructor:k,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(t){a.type="throw",a.arg=r,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],c=i[2];if(-1===i[0])return e("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,e(u),!0;if(s<c)return e(c),!1}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=r&&r<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o[2],l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[2]===t)return this.complete(n[4],n[3]),E(n),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]===t){var e=n[4];if("throw"===e.type){var o=e.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={i:S(r),r:n,n:e},"next"===this.method&&(this.arg=t),l}},r}function dr(t,r,n,e,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,o)}function yr(t){return function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){dr(i,e,o,a,s,"next",t)}function s(t){dr(i,e,o,a,s,"throw",t)}a(void 0)}))}}var vr,gr,mr={render:(gr=yr(pr().mark((function t(r){return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n      <div class="story__detail">\n          <a href="#/dashboard" class="story__detail__back">\n              <i class="fas fa-arrow-alt-circle-left"></i> Back to dashboard\n          </a>\n\n          <h2 class="story__detail__header" id="story-title">Memuat...</h2>\n\n          <img\n              class="story__detail__image"\n              id="story-image"\n              src=""\n              alt=""\n              width="300"\n          >\n\n          <label><strong>Name :</strong></label>\n          <p class="story__detail__name" id="story-name">...</p>\n\n          <label><strong>Desc :</strong></label>\n          <p class="story__detail__description" id="story-description">...</p>\n\n          <label><strong>Lat  :</strong></label>\n          <p class="story__detail__lat" id="story-lat">...</p>\n\n          <label><strong>Lon  :</strong></label>\n          <p class="story__detail__lon" id="story-lon">...</p>\n\n          <label><strong>Map  :</strong></label>\n          <div class="story__detail__map" id="map-detail" style="height: 300px; margin-top: 10px;"></div>\n\n          <label><strong>Date :</strong></label>\n          <small class="story__detail__date" id="story-date">Tanggal tidak tersedia</small>\n      \n          \n          <button id="save-button" class="save__btn">Simpan Laporan</button>\n\n        </div>\n    ');case 1:case"end":return t.stop()}}),t)}))),function(t){return gr.apply(this,arguments)}),show:(vr=yr(pr().mark((function t(r,n){var e;return pr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=document.getElementById("app"),t.next=3,mr.render(r);case 3:e.innerHTML=t.sent,e.animate([{opacity:0},{opacity:1}],{duration:300,easing:"ease-out",fill:"forwards"}),mr.afterRender(n);case 6:case"end":return t.stop()}}),t)}))),function(t,r){return vr.apply(this,arguments)}),showError:function(t){document.getElementById("app").innerHTML="<p>".concat(t,"</p>")},afterRender:function(t){if(document.getElementById("story-title").textContent=t.name,document.getElementById("story-name").textContent=t.name,document.getElementById("story-image").src=t.photoUrl,document.getElementById("story-image").alt=t.name,document.getElementById("story-description").textContent=t.description,document.getElementById("story-date").textContent="Created at: ".concat(new Date(t.createdAt).toLocaleString()),document.getElementById("story-lat").textContent=t.lat,document.getElementById("story-lon").textContent=t.lon,t.lat&&t.lon){var r=L.map("map-detail").setView([t.lat,t.lon],10);L.tileLayer("https://api.maptiler.com/maps/streets-v2/256/{z}/{x}/{y}.png?key=g8oK19blBXwfNG5EWWeA",{attribution:"© MapTiler",tileSize:256}).addTo(r),L.marker([t.lat,t.lon]).addTo(r).bindPopup("<b>".concat(t.name,"</b><br>").concat(t.description))}else document.getElementById("map-detail").style.display="none";document.querySelector(".story__detail__back").addEventListener("click",(function(t){t.preventDefault();var r="#/dashboard";document.startViewTransition?document.startViewTransition((function(){window.location.hash=r})):window.location.hash=r}));var n=document.getElementById("save-button");function e(t){t?(n.innerHTML='<i class="fas fa-trash-alt"></i> Buang Laporan',n.style.backgroundColor="#dc3545"):(n.innerHTML='<i class="far fa-save"></i> Simpan Laporan',n.style.backgroundColor="#007bff")}fr(t.id).then((function(t){e(t)})),n.addEventListener("click",yr(pr().mark((function r(){return pr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fr(t.id);case 2:if(!r.sent){r.next=9;break}return r.next=6,cr(t.id);case 6:e(!1),r.next=12;break;case 9:return r.next=11,ur(t);case 11:e(!0);case 12:case"end":return r.stop()}}),r)}))))}};const br=mr;var wr=n(141),_r={};_r.styleTagTransform=d(),_r.setAttributes=f(),_r.insert=u().bind(null,"head"),_r.domAPI=a(),_r.insertStyleElement=h(),o()(wr.A,_r),wr.A&&wr.A.locals&&wr.A.locals;var xr={render:function(){document.getElementById("app").innerHTML='\n      <nav class="navbar__add">\n        <a href="#/dashboard" class="navbar__add__link"><i class="fas fa-columns"></i> Dash</a>\n        <a href="#/add" class="navbar__add__link"><i class="far fa-plus-square"></i> Add</a>\n        <a href="#/save" class="navbar__dashboard__link"><i class="far fa-plus-square"></i> Save</a>\n      </nav>\n\n      <main tabindex="-1" id="main-content">\n        <div class="story__add">\n          <h2 class="story__add__header">Add Story</h2>\n          <form id="addStory-form" enctype="multipart/form-data">\n            <div class="form__group">\n              <label for="description"><strong>Description :</strong></label><br>\n              <textarea id="description" name="description" required class="form__textarea"></textarea>\n            </div>\n\n            <div class="form__group">\n              <label for="openCamera-btn"><strong>Capture :</strong></label><br>\n              <button type="button" id="openCamera-btn" class="story__add__button">Capture from the Camera</button>\n            </div>\n\n            <div id="camera-section" style="display:none;">\n              <video id="camera-preview" autoplay playsinline width="300" class="camera__preview"></video><br>\n              <button type="button" id="capture-btn" class="story__add__button">Take a Picture</button>\n              <button type="button" id="closeCamera-btn" class="story__add__button">Stop Camera</button>\n              <canvas id="canvas" style="display:none;"></canvas>\n            </div>\n\n            <div class="form__group" id="preview-section" style="margin-top: 10px;">\n              <label><strong>Preview Picture :</strong></label>\n              <img id="photo-preview" src="" alt="Preview" style="max-width: 300px; display: none;" class="story__card__image" />\n            </div>\n\n            <div class="form__group">\n              <label for="map-add"><strong>Select Location on the Map (click) :</strong></label><br>\n              <div id="map-add" style="height: 300px; margin-bottom: 10px;" class="story__add__map"></div>\n            </div>\n\n            <div class="form__group">\n              <label for="latInput"><strong>Latitude (automatic):</strong></label><br>\n              <input type="number" name="lat" id="latInput" step="any" readonly class="form__input">\n            </div>\n\n            <div class="form__group">\n              <label for="lonInput"><strong>Longitude (automatic):</strong></label><br>\n              <input type="number" name="lon" id="lonInput" step="any" readonly class="form__input">\n            </div>\n\n            <button type="submit" class="story__add__button">Add</button>\n          </form>\n        </div>\n      </main>\n    '},bindSubmitHandler:function(t){document.getElementById("addStory-form").addEventListener("submit",t)},getFormData:function(){var t=document.getElementById("addStory-form"),r=new FormData(t);return{description:r.get("description"),lat:parseFloat(r.get("lat")),lon:parseFloat(r.get("lon")),photo:r.get("photo")}},showPreview:function(t){var r=URL.createObjectURL(t),n=document.getElementById("photo-preview");n.src=r,n.style.display="block"},initCamera:function(t){document.getElementById("openCamera-btn").addEventListener("click",t.open),document.getElementById("capture-btn").addEventListener("click",t.capture),document.getElementById("closeCamera-btn").addEventListener("click",t.close)},startCamera:function(t){document.getElementById("camera-preview").srcObject=t,document.getElementById("camera-section").style.display="block"},captureImage:function(){var t=document.getElementById("camera-preview"),r=document.getElementById("canvas"),n=r.getContext("2d");return r.width=t.videoWidth,r.height=t.videoHeight,n.drawImage(t,0,0),new Promise((function(t){r.toBlob((function(r){xr.showPreview(r),t(r)}),"image/jpeg")}))},stopCamera:function(){document.getElementById("camera-section").style.display="none"},bindMapClick:function(t){var r=L.map("map-add").setView([-2.5489,118.0149],5),n=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),e=L.tileLayer("https://api.maptiler.com/maps/streets-v2/256/{z}/{x}/{y}.png?key=g8oK19blBXwfNG5EWWeA",{attribution:"&copy; MapTiler & OpenStreetMap contributors"}),o=L.tileLayer("https://api.maptiler.com/maps/hybrid/256/{z}/{x}/{y}.jpg?key=g8oK19blBXwfNG5EWWeA",{attribution:"&copy; MapTiler & OpenStreetMap contributors"});return L.control.layers({OpenStreetMap:n,"MapTiler (Street View)":e,"MapTiler (Satellite View)":o}).addTo(r),n.addTo(r),r.on("click",t),r},updateLatLonInputs:function(t,r){document.getElementById("latInput").value=t,document.getElementById("lonInput").value=r},updateMarker:function(t,r,n,e){return r?r.setLatLng([n,e]):r=L.marker([n,e]).addTo(t),r}};const Er=xr;function kr(t){return kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(t)}function Sr(){Sr=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,r,n,e){return Object.defineProperty(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e})}try{u({},"")}catch(t){u=function(t,r,n){return t[r]=n}}function c(r,n,e,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype);return u(a,"_invoke",function(r,n,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var u=_(s,e);if(u){if(u===l)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var c=f(r,n,e);if("normal"===c.type){if(o=e.done?4:2,c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o=4,e.method="throw",e.arg=c.arg)}}}(r,e,new k(o||[])),!0),a}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==n&&e.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function w(t,r){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==kr(l)&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}),!0)}function _(r,n){var e=n.method,o=r.i[e];if(o===t)return n.delegate=null,"throw"===e&&r.i.return&&(n.method="return",n.arg=t,_(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),l;var i=f(o,r.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var a=i.arg;return a?a.done?(n[r.r]=a.value,n.next=r.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,l):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(t){this.tryEntries.push(t)}function E(r){var n=r[4]||{};n.type="normal",n.arg=t,r[4]=n}function k(t){this.tryEntries=[[-1]],t.forEach(x,this),this.reset(!0)}function S(r){if(null!=r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(kr(r)+" is not iterable")}return p.prototype=d,u(m,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},r.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),r.AsyncIterator=w,r.async=function(t,n,e,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,e,o),i);return r.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},r.values=S,k.prototype={constructor:k,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(t){a.type="throw",a.arg=r,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],c=i[2];if(-1===i[0])return e("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,e(u),!0;if(s<c)return e(c),!1}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=r&&r<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o[2],l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[2]===t)return this.complete(n[4],n[3]),E(n),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]===t){var e=n[4];if("throw"===e.type){var o=e.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={i:S(r),r:n,n:e},"next"===this.method&&(this.arg=t),l}},r}function Or(t,r,n,e,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,o)}function jr(t){return function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){Or(i,e,o,a,s,"next",t)}function s(t){Or(i,e,o,a,s,"throw",t)}a(void 0)}))}}const Tr={init:function(){if(localStorage.getItem("token")){Er.render();var t,r,n=null,e=Er.bindMapClick((function(t){var r=t.latlng,o=r.lat,i=r.lng;n=Er.updateMarker(e,n,o,i),Er.updateLatLonInputs(o,i)})),o=null,i=null;Er.initCamera({open:(r=jr(Sr().mark((function t(){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia({video:!0});case 3:i=t.sent,Er.startCamera(i),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert("Kamera gagal dibuka: "+t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(){return r.apply(this,arguments)}),capture:(t=jr(Sr().mark((function t(){return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Er.captureImage();case 2:o=t.sent;case 3:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)}),close:function(){i&&(i.getTracks().forEach((function(t){return t.stop()})),i=null),Er.stopCamera()}}),Er.bindSubmitHandler(function(){var t=jr(Sr().mark((function t(r){var n,e,i,a,s,u,c;return Sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=Er.getFormData(),e=n.description,i=n.photo,a=n.lat,s=n.lon,(u=o||i)&&!(u.size>2097152)){t.next=6;break}return alert("Foto wajib dan max 2MB."),t.abrupt("return");case 6:return t.next=8,Ot.addStory(localStorage.getItem("token"),{description:e,photo:u,lat:a,lon:s});case 8:(c=t.sent).success?(alert("Story berhasil ditambahkan!"),location.hash="#/dashboard"):alert("Gagal: "+c.message);case 10:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}()),window.addEventListener("beforeunload",(function(){i&&i.getTracks().forEach((function(t){return t.stop()}))})),window.addEventListener("hashchange",(function(){i&&(i.getTracks().forEach((function(t){return t.stop()})),i=null)}))}else window.location.hash="#/login"}};var Pr=n(541),Ir={};function Gr(t){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gr(t)}function Nr(){Nr=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,r,n,e){return Object.defineProperty(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e})}try{u({},"")}catch(t){u=function(t,r,n){return t[r]=n}}function c(r,n,e,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype);return u(a,"_invoke",function(r,n,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var u=_(s,e);if(u){if(u===l)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var c=f(r,n,e);if("normal"===c.type){if(o=e.done?4:2,c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o=4,e.method="throw",e.arg=c.arg)}}}(r,e,new k(o||[])),!0),a}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==n&&e.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function w(t,r){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==Gr(l)&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}),!0)}function _(r,n){var e=n.method,o=r.i[e];if(o===t)return n.delegate=null,"throw"===e&&r.i.return&&(n.method="return",n.arg=t,_(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),l;var i=f(o,r.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var a=i.arg;return a?a.done?(n[r.r]=a.value,n.next=r.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,l):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(t){this.tryEntries.push(t)}function E(r){var n=r[4]||{};n.type="normal",n.arg=t,r[4]=n}function k(t){this.tryEntries=[[-1]],t.forEach(x,this),this.reset(!0)}function S(r){if(null!=r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Gr(r)+" is not iterable")}return p.prototype=d,u(m,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},r.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),r.AsyncIterator=w,r.async=function(t,n,e,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,e,o),i);return r.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},r.values=S,k.prototype={constructor:k,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(t){a.type="throw",a.arg=r,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],c=i[2];if(-1===i[0])return e("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,e(u),!0;if(s<c)return e(c),!1}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=r&&r<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o[2],l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[2]===t)return this.complete(n[4],n[3]),E(n),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]===t){var e=n[4];if("throw"===e.type){var o=e.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={i:S(r),r:n,n:e},"next"===this.method&&(this.arg=t),l}},r}function Ar(t,r,n,e,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,o)}function Lr(t){return function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){Ar(i,e,o,a,s,"next",t)}function s(t){Ar(i,e,o,a,s,"throw",t)}a(void 0)}))}}Ir.styleTagTransform=d(),Ir.setAttributes=f(),Ir.insert=u().bind(null,"head"),Ir.domAPI=a(),Ir.insertStyleElement=h(),o()(Pr.A,Ir),Pr.A&&Pr.A.locals&&Pr.A.locals;var Fr={render:function(){var t=Lr(Nr().mark((function t(){return Nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n      <nav class="navbar__save">\n        <a href="#/dashboard" class="navbar__save__link"><i class="fas fa-columns"></i> Dash</a>\n        <a href="#/add" class="navbar__save__link"><i class="far fa-plus-square"></i> Add</a>\n        <a href="#/save" class="navbar__save__link"><i class="far fa-plus-square"></i> Save</a>\n        \n      </nav>\n\n      <div class="saved__container">\n        <div id="saved-list" class="saved__list">Loading...</div>\n      </div>\n    ');case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),show:function(){var t=Lr(Nr().mark((function t(r){var n;return Nr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.getElementById("app"),t.next=3,Fr.render();case 3:return n.innerHTML=t.sent,n.animate([{opacity:0},{opacity:1}],{duration:300,easing:"ease-out",fill:"forwards"}),t.next=7,Fr.afterRender(r);case 7:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),afterRender:function(t){var r=document.getElementById("saved-list");t&&0!==t.length?(r.innerHTML='\n  <div class="save__grid">\n    '.concat(t.map((function(t){return'\n      <div class="save__card">\n        <h3 class="save__card__header">'.concat(t.name,'</h3>\n\n        <img \n          class="save__card__image" \n          src="').concat(t.photoUrl,'" \n          alt="').concat(t.name,'" \n        >\n\n        <p class="save__card__description">\n          ').concat(t.description,'\n        </p>\n\n        <div class="map" id="map-').concat(t.id,'" style="height: 150px; margin-top: 10px;"></div>\n\n        <small class="save__card__date">\n          Created at: ').concat(new Date(t.createdAt).toLocaleString(),'\n        </small>\n\n        <a href="#/detail/').concat(t.id,'" class="save__card__readmore" data-id="').concat(t.id,'">\n          <i class="fab fa-readme"></i> Read more\n        </a>\n      </div>\n    ')})).join(""),"\n  </div>\n"),t.forEach((function(t){if(t.lat&&t.lon){var r="map-".concat(t.id);if(document.getElementById(r)){var n=L.map(r).setView([t.lat,t.lon],13);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(n),L.marker([t.lat,t.lon]).addTo(n).bindPopup("<b>".concat(t.name,"</b><br>").concat(t.description))}}}))):r.innerHTML="<p>No saved reports found.</p>"}};const Br=Fr;function Cr(t){return Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cr(t)}function Mr(){Mr=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,r,n,e){return Object.defineProperty(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e})}try{u({},"")}catch(t){u=function(t,r,n){return t[r]=n}}function c(r,n,e,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype);return u(a,"_invoke",function(r,n,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var u=_(s,e);if(u){if(u===l)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var c=f(r,n,e);if("normal"===c.type){if(o=e.done?4:2,c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o=4,e.method="throw",e.arg=c.arg)}}}(r,e,new k(o||[])),!0),a}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==n&&e.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function w(t,r){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==Cr(l)&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}),!0)}function _(r,n){var e=n.method,o=r.i[e];if(o===t)return n.delegate=null,"throw"===e&&r.i.return&&(n.method="return",n.arg=t,_(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),l;var i=f(o,r.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var a=i.arg;return a?a.done?(n[r.r]=a.value,n.next=r.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,l):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(t){this.tryEntries.push(t)}function E(r){var n=r[4]||{};n.type="normal",n.arg=t,r[4]=n}function k(t){this.tryEntries=[[-1]],t.forEach(x,this),this.reset(!0)}function S(r){if(null!=r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Cr(r)+" is not iterable")}return p.prototype=d,u(m,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},r.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),r.AsyncIterator=w,r.async=function(t,n,e,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,e,o),i);return r.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},r.values=S,k.prototype={constructor:k,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(t){a.type="throw",a.arg=r,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],c=i[2];if(-1===i[0])return e("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,e(u),!0;if(s<c)return e(c),!1}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=r&&r<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o[2],l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[2]===t)return this.complete(n[4],n[3]),E(n),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]===t){var e=n[4];if("throw"===e.type){var o=e.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={i:S(r),r:n,n:e},"next"===this.method&&(this.arg=t),l}},r}function zr(t,r,n,e,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,o)}const Dr={init:function(){return(t=Mr().mark((function t(){var r;return Mr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr();case 2:return r=t.sent,t.next=5,Br.show(r);case 5:case"end":return t.stop()}}),t)})),function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){zr(i,e,o,a,s,"next",t)}function s(t){zr(i,e,o,a,s,"throw",t)}a(void 0)}))})();var t}};function Hr(t){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hr(t)}function Rr(){Rr=function(){return r};var t,r={},n=Object.prototype,e=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,r,n,e){return Object.defineProperty(t,r,{value:n,enumerable:!e,configurable:!e,writable:!e})}try{u({},"")}catch(t){u=function(t,r,n){return t[r]=n}}function c(r,n,e,o){var i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype);return u(a,"_invoke",function(r,n,e){var o=1;return function(i,a){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===i)throw a;return{value:t,done:!0}}for(e.method=i,e.arg=a;;){var s=e.delegate;if(s){var u=_(s,e);if(u){if(u===l)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(1===o)throw o=4,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);o=3;var c=f(r,n,e);if("normal"===c.type){if(o=e.done?4:2,c.arg===l)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(o=4,e.method="throw",e.arg=c.arg)}}}(r,e,new k(o||[])),!0),a}function f(t,r,n){try{return{type:"normal",arg:t.call(r,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(S([])));g&&g!==n&&e.call(g,i)&&(y=g);var m=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(r){u(t,r,(function(t){return this._invoke(r,t)}))}))}function w(t,r){function n(o,i,a,s){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==Hr(l)&&e.call(l,"__await")?r.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):r.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var o;u(this,"_invoke",(function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}),!0)}function _(r,n){var e=n.method,o=r.i[e];if(o===t)return n.delegate=null,"throw"===e&&r.i.return&&(n.method="return",n.arg=t,_(r,n),"throw"===n.method)||"return"!==e&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+e+"' method")),l;var i=f(o,r.i,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,l;var a=i.arg;return a?a.done?(n[r.r]=a.value,n.next=r.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,l):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}function x(t){this.tryEntries.push(t)}function E(r){var n=r[4]||{};n.type="normal",n.arg=t,r[4]=n}function k(t){this.tryEntries=[[-1]],t.forEach(x,this),this.reset(!0)}function S(r){if(null!=r){var n=r[i];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function n(){for(;++o<r.length;)if(e.call(r,o))return n.value=r[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Hr(r)+" is not iterable")}return p.prototype=d,u(m,"constructor",d),u(d,"constructor",p),p.displayName=u(d,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===p||"GeneratorFunction"===(r.displayName||r.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},r.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),r.AsyncIterator=w,r.async=function(t,n,e,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,e,o),i);return r.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(m),u(m,s,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var r=Object(t),n=[];for(var e in r)n.unshift(e);return function t(){for(;n.length;)if((e=n.pop())in r)return t.value=e,t.done=!1,t;return t.done=!0,t}},r.values=S,k.prototype={constructor:k,reset:function(r){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!r)for(var n in this)"t"===n.charAt(0)&&e.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(t){a.type="throw",a.arg=r,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i[4],s=this.prev,u=i[1],c=i[2];if(-1===i[0])return e("end"),!1;if(!u&&!c)throw Error("try statement without catch or finally");if(null!=i[0]&&i[0]<=s){if(s<u)return this.method="next",this.arg=t,e(u),!0;if(s<c)return e(c),!1}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e[0]>-1&&e[0]<=this.prev&&this.prev<e[2]){var o=e;break}}o&&("break"===t||"continue"===t)&&o[0]<=r&&r<=o[2]&&(o=null);var i=o?o[4]:{};return i.type=t,i.arg=r,o?(this.method="next",this.next=o[2],l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[2]===t)return this.complete(n[4],n[3]),E(n),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]===t){var e=n[4];if("throw"===e.type){var o=e.arg;E(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(r,n,e){return this.delegate={i:S(r),r:n,n:e},"next"===this.method&&(this.arg=t),l}},r}function Wr(t,r,n,e,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?r(u):Promise.resolve(u).then(e,o)}function Ur(t){return function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function a(t){Wr(i,e,o,a,s,"next",t)}function s(t){Wr(i,e,o,a,s,"throw",t)}a(void 0)}))}}var Vr={"/login":H.init,"/register":$.init,"/dashboard":Gt.init,"/detail":br.init,"/add":Tr.init,"/save":Dr.init},qr=function(){var t=Ur(Rr().mark((function t(){var r,n,e,o,i,a,s;return Rr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=window.location.hash||"#/login",n=r.replace("#",""),e=function(){var t=Ur(Rr().mark((function t(r){return Rr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!document.startViewTransition){t.next=4;break}document.startViewTransition(Ur(Rr().mark((function t(){return Rr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r();case 2:case"end":return t.stop()}}),t)})))),t.next=6;break;case 4:return t.next=6,r();case 6:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}(),!Vr[n]){t.next=13;break}if(o=["/dashboard","/add","/save"],i=localStorage.getItem("token"),!o.includes(n)||i){t.next=9;break}return window.location.hash="#/login",t.abrupt("return");case 9:return t.next=11,e(Vr[n]);case 11:t.next=21;break;case 13:if(!n.startsWith("/detail/")){t.next=20;break}return a=n.split("/")[2],s=document.getElementById("app"),t.next=18,e(Ur(Rr().mark((function t(){var r,n,e;return Rr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,br.render(a);case 2:if(s.innerHTML=t.sent,r=localStorage.getItem("token")){t.next=7;break}return window.location.hash="#/login",t.abrupt("return");case 7:return t.next=9,fetch("https://story-api.dicoding.dev/v1/stories/".concat(a),{headers:{Authorization:"Bearer ".concat(r)}});case 9:return n=t.sent,t.next=12,n.json();case 12:e=t.sent,n.ok?br.afterRender(e.story):s.innerHTML="<p>Gagal memuat detail: ".concat(e.message,"</p>");case 14:case"end":return t.stop()}}),t)}))));case 18:t.next=21;break;case 20:window.location.hash="#/login";case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();window.addEventListener("hashchange",qr),window.addEventListener("load",qr),document.body.innerHTML='<div id="app"></div>',"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./sw.js").then((function(t){console.log("✅ Service Worker registered!",t)})).catch((function(t){console.error("❌ Service Worker failed to register:",t)}))})),"Notification"in window&&navigator.serviceWorker&&Notification.requestPermission().then((function(t){console.log("Notification permission:",t)}))})();